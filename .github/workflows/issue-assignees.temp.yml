# force copy from tencent/tdesign
name: Issue Add Assigness

on:
  issues:
    types: [opened, edited]

jobs:
  mark-duplicate:
    runs-on: ubuntu-latest
    steps:
      - uses: wow-actions/auto-comment@v1
        with:
          GITHUB_TOKEN: ${{ secrets.TOKEN }}
          issuesOpened: |
            ğŸ‘‹ @{{ author }}ï¼Œæ„Ÿè°¢ç»™æˆ‘ä»¬æå‡ºissueã€‚
             æˆ‘ä»¬å°†è°ƒæŸ¥åå¹¶å°½å¿«å›å¤ä½ ã€‚
      - uses: Wesleyyy0808/issue-assignees@main
        id: assignees
        with:
          project_name: ${{github.event.repository.name}}
          issue_title: ${{github.event.issue.title}}
      - run: |
          contributors=${{ steps.assignees.outputs.contributors }}
          contributorstring=${contributors//,/ @}
          echo "::set-output name=string::@$contributorstring"
        id: contributors
        
      - name: é€šçŸ¥è´¡çŒ®è€…ã€issueã€‘
        if: steps.assignees.outputs.isissue == 'true'
        uses: peter-evans/create-or-update-comment@v1
        with:
          issue-number: ${{ github.event.issue.number }}
          body: |
            â™¥ï¸ æœ‰åŠ³  ${{ steps.contributors.outputs.string }}  å°½å¿«ç¡®è®¤æè®®å¯è¡Œæ€§ã€‚
            ç¡®è®¤å¯è¡Œåå°†ä¸‹ä¸€æ­¥è®¡åˆ’å’Œå¯èƒ½éœ€è¦çš„æ—¶é—´åŠé¡¹ç›®è§„åˆ’å›å¤ç»™  @${{ github.event.issue.user.login }} ã€‚
          
      - name: é€šçŸ¥è´¡çŒ®è€…ã€bugã€‘
        if: |
          steps.assignees.outputs.isissue == 'false' &&
          steps.assignees.outputs.needhard == 'false' &&
          steps.assignees.outputs.notmatchpeople == 'false'
        uses: peter-evans/create-or-update-comment@v1
        with:
          issue-number: ${{ github.event.issue.number }}
          body: |
            â™¥ï¸ æœ‰åŠ³  ${{ steps.contributors.outputs.string }}  å°½å¿«ç¡®è®¤é—®é¢˜ã€‚
            ç¡®è®¤æœ‰æ•ˆåå°†ä¸‹ä¸€æ­¥è®¡åˆ’å’Œå¯èƒ½éœ€è¦çš„æ—¶é—´å›å¤ç»™  @${{ github.event.issue.user.login }} ã€‚

      - name: é€šçŸ¥è´¡çŒ®è€…ã€éœ€æ±‚ã€‘
        if: steps.assignees.outputs.needhard == 'true'
        uses: peter-evans/create-or-update-comment@v1
        with:
          issue-number: ${{ github.event.issue.number }}
          body: |
            â™¥ï¸ æœ‰åŠ³  ${{ steps.contributors.outputs.string }}  å°½å¿«å®ç°è¯¥åŠŸèƒ½ã€‚
            æœ€æ™šäº3å‘¨åpush developç‰ˆæœ¬è‡³è¯¥ä»“åº“ï¼Œå¹¶åœ¨PRä¸­æ ‡è®°è¯¥issueã€‚

      - name: æœªèƒ½åˆ†é…äººå‘˜
        if: steps.assignees.outputs.notmatchpeople == 'true'
        uses: peter-evans/create-or-update-comment@v1
        with:
          issue-number: ${{ github.event.issue.number }}
          body: |
            @${{ github.event.issue.user.login }}  æŠ±æ­‰ï¼Œæˆ‘ä»¬æœªèƒ½é€šè¿‡æ‚¨æå‡ºçš„issueè¿›è¡Œäººå‘˜åˆ†é…ï¼Œä¸‹é¢ç”±ç³»ç»Ÿä¸ºæ‚¨åˆ†é…ï¼š
            â™¥ï¸ æœ‰åŠ³  @wesleyyy0808 , @ddos-ling  å°½å¿«ç¡®è®¤é—®é¢˜ã€‚
            ç¡®è®¤æœ‰æ•ˆåå°†ä¸‹ä¸€æ­¥è®¡åˆ’å’Œå¯èƒ½éœ€è¦çš„æ—¶é—´å›å¤ç»™  @${{ github.event.issue.user.login }} ã€‚
